# Introduction
<<<<<<< HEAD

This Java Grep application is designed to implement the usage of grep app in Linux systems. This app allows to search for matching strings from files. There are two approaches to implement this function , First it is created using for and while loops, second one  using lambda and stream APIs.
The project was built with Apache Maven and deployed using docker.This application can be used by anyone who wants to search for specific pattern through a directory of files and return the output  in a particular file.
his app has been implemented using Java interface and required library packages including java.io, java.util, and java.slf4j
All the Exception handlings are properly handled.Java Code is written in intellij IDE with Maven as project management outline.

# Quick Start

This app can be used by following three ways:

##Aproach 1: Using classpath and classfiles

''''java -classpath target/classes ca.jrvs.apps.grep.JavaGrepImp {regex_pattern} ./data /out/grep.txt''''

'''java -classpath target/classes ca.jrvs.apps.grep.JavaGrepLambdaImp {regex_pattern} ./data /out/grep.txt''''

##Aproach 2: Using jarfiles

''''java -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepImp {regex_pattern} ./data /out/grep.txt''''

''''java -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepLambdaImp {regex_pattern} ./data /out/grep.txt''''

##Approach 3: Using Docker container

''''docker run --rm -v `pwd`/data:/data -v `pwd`/log:/log ${docker_user}/grep {regex_pattern} /data /log/grep.out''''

#Implemenation
## Pseudocode

''''matchedLines = []
for file in listFilesRecursively(rootDir)
for line in readLines(file)
if containsPattern(line)
matchedLines.add(line)
writeToFile(matchedLines)'''''

## Performance Issue

The functionality of this Grep app requires to handle huge data to be stored in its memory for further recursively searched 
This requires a huge amount of memory since the task involves JVM parsing all the text input and storing it for search. It is possible to specify the amount of heap memory JVM uses. If this memory is not enough to run the JVM, OutOfMemoryError exception occurs.
This exception can be handled by by increasing the amount of memory assigned to the JVM by using the following command.

''''java -Xms5m -Xmx5m -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepImp .*Romeo.*Juliet.* ./data ./out/grep.txt''''

where Xms specifies minimum heap size and Xmx specifies maximum heap size .To increase Heap size memory change the value of maximum size of memory in the given command.

# Test

This app is manually tested by comparing the output of the Linux grep command with the ones generated by the app.It is also tested in Intellij IDE by providing the Sample Text dats as source file and Storing the output in out file.
=======
The Java Grep application is used to search plain-text data sets for lines that match a regular expression. This is similar to the functionality found in Unix-like operating systems. The application was was built with an interface and implemented with while/for loops along with an alternate implementation using Streams and Lambda expressions for efficiency. Project management was achived through Maven which also handled dependencies.
Linux uses the grep command to search for a string of characters in a given directory. The Java Grep Application is an implementation of the Linux grep feature, the application was created using two methods: loops and Lambda/Steam API's. The project was built with Apache Maven and deployed using docker.
The product can be used by anyone who wishes to search through a large data file for a specific text pattern and return the output to another file.

## Technologies:

Apache Maven, Git ,Docker , Java SE 8 [Lambda/Steam Functions] 

# Quick Start

The application can be run by following commands:

 ````$ mvn clean compile ````

```` $ mvn package  ````

```` $ java -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepImp {regex} {rootPath} {outFile} ````   

```` java -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepImp {regex} {rootPath} {outFile} ````

## Design

JavaGrepp.java; This is a public interface file with all the methods required to traverse a directory, read a file, check to see if a line contains the regex_pattern, and return it to another file.

JavaGrepImp.java; This is the loop implementation of the Java Grep Application.

JavaGrepLambdaImp.java; This is the Lambda/Steam implementation of the Java Grep Application.

# Implemenation

## Pseudocode

The process method is implemented in following way:

``` for (File file: listFiles(path)) ```  
```   for (String line: readLines(file)) ```  
````   if (containsPattern(line)) ````
````   matchedLines.add(line); ```` 
 ```   writeToFile(matchedLines); ```

## Performance Issue

Using Java Grep requires a lot of memory in the JVM especially when parsing all text to be checked by the containsPattern function. Minimum and Maximum memory can be defined by using the -Xms and -Xmx flags to set the memory sizes.

```` java -Xms5m -Xmx30m -cp target/grep-1.0-SNAPSHOT.jar ca.jrvs.apps.grep.JavaGrepImp .*Romeo.*Juliet.* {rootPath} {outFile}````

If the memory was 5Mb and a file was processed with 5Mb then a memory error would occur because there isn't enough memory to complete the process.
This issue can be resolved using Stream API.

# Test

The app was tested manually using sample text files that consisted of varying text patterns and comparing the results with the results obtained from using the Linux grep command on the same text file and pattern.

```` java -jar grep-demo.jar ${regex_pattern} ${src_dir} ${outfile} ````
>>>>>>> 55c8ddf483a24c6137fd1059818b59cf70699f9e

# Deployment

The Java Grep Application was converted into an image using docker build and uploaded to DockerHub using docker push for easier distribution to users.

<<<<<<< HEAD
# Improvement
 
- When there are multiple files through which we are searching the pattern Data then it would be more efficient to Add more source file information in the output file.

- The size of the input file is limited by the heap size of the machine running the program. Using ,Lambda/Steam implementation will be a solution in this case as this would allow only the data that is being operated on to be held in memory.
=======
# Limitations and Improvements
The two biggest limitations have to do with memory and lack of functionality:

- The app only searches in a particular file But implemntation can be further improvised by searching and getting output in a pattern file with data.
Search within both the directory specified and its subdirectories for the matching regex pattern

- The size of the input file is limited by the heap size of the machine running the program. If we want to process a file larger than the memory available, then the program would crash as it would need to load all the data from the file before processing it.
A simple solution would be to use the Lambda/Steam implementation, this would allow only the data that is being operated on to be held in memory.
>>>>>>> 55c8ddf483a24c6137fd1059818b59cf70699f9e
